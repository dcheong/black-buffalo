<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Daruma</title>
    <link rel="stylesheet" href="../node_modules/font-awesome/css/font-awesome.min.css" />
    <script>
      if (!process.env.HOT) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = '../dist/style.css';
        document.write(link.outerHTML);
      }
    </script>
   
  </head>
  <div class="topbar">
    <div class="drag"></div>
    <div class="controls">
      <div class="control-btn" id="close-btn"></div>
      <div class="control-btn" id="max-btn"></div>
      <div class="control-btn" id="min-btn"></div>
    </div>
  </div>
  <script>
    const remote = require('electron').remote;

    document.getElementById("min-btn").addEventListener("click", function (e) {
        var window = remote.getCurrentWindow();
        window.minimize(); 
    });

    document.getElementById("max-btn").addEventListener("click", function (e) {
        var window = remote.getCurrentWindow();
        if (!window.isMaximized()) {
            window.maximize();          
        } else {
            window.unmaximize();
        }
    });

    document.getElementById("close-btn").addEventListener("click", function (e) {
        var window = remote.getCurrentWindow();
        window.close();
    }); 
  </script>
  <body>
    <div id="root"></div>
    <script>
      {
        const script = document.createElement('script');
        const port = process.env.PORT || 3000;
        script.src = (process.env.HOT) ? `http://localhost:${port}/dist/bundle.js` : '../dist/bundle.js';
        document.write(script.outerHTML);
      }
    </script>
  </body>
</html>
